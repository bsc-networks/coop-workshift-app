<div id="toolbar">
</div>
<table  class="table table-striped table-hover" id="assign-shifts"
                      data-toolbar="#toolbar"
                      data-show-columns="true" data-show-export="true"
                      data-toggle="table" data-search="true"
                      data-page-list="[10, 25, 50, 100, ALL]">
  <thead>
    <tr>
      <th data-sortable="true">Category</th>
      <th data-sortable="true">Name</th>
      <% Workshift.days.each do |day| %>
        <th><%= day %></th>
      <% end %>
    </tr>
  </thead>
  <tbody>
    <% @metashift_rows.each do |metashift, days| %>
      <tr>
        <td><%= metashift.category %></td>
        <td><%= metashift.name %></td>
        <% Workshift.days.each do |day| %>
          <td class="workshift">
            <% if days[day] %>
              <% days[day].each do |workshift| %>
                <form class="form-inline">
                  <div class="form-group">
                    <div class="input-group">
                      <input type="text" class="form-control workshift" id="<%= workshift.id %>" placeholder="">
                      <div class="input-group-addon workshift">
                        <span class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="tooltip" data-placement="top" title="
                          Start Time: <%= workshift.start_time %>
                          End Time: <%= workshift.end_time %> 
                          Hours: <%= workshift.length %> 
                          Details: <%= workshift.details %>
                        "></span>
                      </div>
                    </div>
                  </div>
                </form>
              <% end %>
            <% end %>
          </td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>




<script>
  $(document).ready(function(){
    $("table#assign-shifts").on("post-body.bs.table", function(){
      $("input.workshift").on("focus", function() {
        $.get("/workshifts/" + $(this).attr('id') + "/sort_users", function(data) {
          $("#sorted-table").bootstrapTable('load', data.rows);
        });
      });
    })
    
    $(function () {
      $('[data-toggle="tooltip"]').tooltip();
    });
    $("#assign-shifts").on('reset-view.bs.table', function() {
      $('[data-toggle="tooltip"]').tooltip();
    });
  });
</script>
